{{>header-navbar}}
{{> messages}}
<a href="/logout">
  <div class="logout-button">Logout</div>
</a>
<div class="dashboard-block">
  <div class="header">
    <h3>Expedition</h3>
  </div>
  <div class="line-break"></div>
  <div class="planets-block">
    <div class="planets-modal">
      <div class="modal-image"><img id="planet-portrait" src="assets/images/planets/earth.png" alt="earth"></div>
      <div class="modal-header">
        <h4 id="planet-title">Earth</h4>
      </div>
      <div id="black-line-break" class="line-break"></div>
      <div class="modal-text">
        <p id="planet-info">
          This will be our launch point and also our return point. Oxygen, H2O and Mineral rich planet with a perfect
          distance from the sun. You'll be glad to come back to this solar oasis after your long interplanetary journey.
        </p>
      </div>
      <button id="choose-planet">Choose the planet</button>
    </div>
    <div class="planets-solar-system">
      <div class="orbit1"></div>
      <div class="orbit2"></div>
      <div class="orbit3"></div>
      <div class="orbit4"></div>
      <div class="orbit5"></div>
      <div class="orbit6"></div>
      <div class="orbit7"></div>
      <div class="orbit8"></div>
      <div class="orbit9"></div>
      <div class="sun">
        <div class="mercury">
          <img src="assets/images/planets/mercury.png" alt="mercury" />
        </div>
        <div class="venus">
          <img src="assets/images/planets/venus.png" alt="venus" />
        </div>
        <div class="earth">
          <img src="assets/images/planets/earth.png" alt="earth" />
        </div>
        <div class="moon">
          <img src="assets/images/planets/moon.png" alt="moon" />
        </div>
        <div class="mars">
          <img src="assets/images/planets/mars.png" alt="mars" />
        </div>
        <div class="jupiter">
          <img src="assets/images/planets/jupiter.png" alt="jupiter" />
        </div>
        <div class="saturn">
          <img src="assets/images/planets/saturn.png" alt="saturn" />
        </div>
        <div class="uranus">
          <img src="assets/images/planets/uranus.png" alt="uranus" />
        </div>
        <div class="neptune">
          <img src="assets/images/planets/neptune.png" alt="neptune" />
        </div>
        <div class="pluto">
          <img src="assets/images/planets/pluto.png" alt="pluto" />
        </div>
      </div>
    </div>
  </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="/assets/js/planets.js"></script>
<script>
  document.querySelector("#choose-planet").addEventListener("click", function (e) {
    if (!e.target.dataset.planetId) return;
    const planetId = Number(this.dataset.planetId);
    await fetch(`/api/add/planet/${planetId}`, {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json'
      }
    })
    setTimeout(function () { location.reload(true) }, 100);
  })
</script>